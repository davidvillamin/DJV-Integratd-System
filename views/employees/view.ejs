<%- include("../partials/header") %>
<%- include("../partials/loading") %>
<%- include("../partials/header-sidebar") %>
<!--================ PREFIX LEGENDS ====================-->
<!--================ ei = employee =================information -->
<main id="main" class="main">
    <div class="pagetitle">
        <h1 class="placeholder-glow">
            <span class="evName">
                <span class="placeholder col-1"></span>
            </span>
        </h1>
    <nav>
        <ol class="breadcrumb">
        <li class="breadcrumb-item"> <a href="/">Home</a></li>
        <li class="breadcrumb-item"> <a href="/employees">Employees</a></li>
        <li class="breadcrumb-item active evName"></li>
        </ol>
    </nav>
    </div><!-- End Page Title -->
    <section class="section profile">
        <div class="row d-flex">
            <!-- Profile Picture & Basic Info -->
            <div class="col-lg-3">
                <div class="card shadow-sm border-0">
                    <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
                        <!-- ev = Employee view -->
                        <img id="evProfileImg" src="/assets/img/profile-img.jpg" alt="Profile" 
                             class="rounded-circle img-fluid border border-3 border-primary shadow" width="120">
                        
                        <h5 class="mt-3 text-center evProfileName"></h5>
                        <!-- ei = Employee information -->
                        <p class="eiProfileJobTitle text-muted text-center "></p>
                        
                        <!-- Social Media Icons -->
                        <div class="d-flex justify-content-center gap-3 mt-2">
                            <a href="#" class="text-primary"><i class="bi bi-facebook"></i></a>
                            <a href="#" class="text-info"><i class="bi bi-twitter"></i></a>
                            <a href="#" class="text-danger"><i class="bi bi-instagram"></i></a>
                            <a href="#" class="text-secondary"><i class="bi bi-linkedin"></i></a>
                        </div>
    
                        <!-- Contact Button -->
                        <button class="btn btn-outline-primary mt-3 w-74">Contact</button>
                    </div>
                </div>
                <!-- Simple Calendar using Bootstrap 5 -->
                <div class="card shadow-sm border-0 mt-3">
                    <div class="card-body">
                        <h5 class="card-title text-center mb-3">Calendar</h5>

                        <!-- Calendar Header: Month/Year Navigation -->
                        <div class="calendar-header d-flex justify-content-between align-items-center mb-2 px-2">
                            <button id="prevMonthBtn" class="btn btn-sm btn-outline-secondary" aria-label="Previous month">&lt;</button>
                            <span id="calendarMonthYear" class="fw-bold"></span> <!-- ID added -->
                            <button id="nextMonthBtn" class="btn btn-sm btn-outline-secondary" aria-label="Next month">&gt;</button>
                        </div>

                        <!-- Calendar Grid -->
                        <div class="calendar-grid">
                            <!-- Days of the week header -->
                            <div class="row g-1 text-center small fw-bold mb-1 border-bottom pb-1">
                                <div class="col">Sun</div>
                                <div class="col">Mon</div>
                                <div class="col">Tue</div>
                                <div class="col">Wed</div>
                                <div class="col">Thu</div>
                                <div class="col">Fri</div>
                                <div class="col">Sat</div>
                            </div>

                            <!-- Calendar days grid (Will be populated by JS) -->
                            <div id="calendarDays" class="calendar-days">
                                <!-- Content generated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div><!-- <%- include("../partials/footer") %> -->

                
            </div>
                
            <!-- Profile Details -->
            <div class="container col-lg-9">
                <div class="d-flex justify-content-between">
                    <ul class="nav nav-tabs" id="myTab" role="tablist" >
                        <li class="nav-item" role="presentation">
                            <!-- ev = Employee view -->
                          <button class="nav-link active" id="contact-tab" data-bs-toggle="tab" data-bs-target="#evAttendance" type="button" role="tab" aria-controls="evAttendance" aria-selected="true">Attendance</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <!-- ev = Employee view -->
                          <button class="nav-link " id="home-tab" data-bs-toggle="tab" data-bs-target="#evStaffBioTab" type="button" role="tab" aria-controls="evStaffBioTab" aria-selected="false">Employee Bio</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <!-- ev = Employee view -->
                          <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#evAccountSettings" type="button" role="tab" aria-controls="evAccountSettings" aria-selected="false">Account settings</button>
                        </li>
                      </ul>
                    
                </div>
                <!-- ================= TAB CONTENTS ========================= -->
                <div class="tab-content mt-3" id="myTabContent">
                    <!--================== ATTENDANCE =========================-->
                    <!-- Attendance Record -->
                     <!-- ev = Employee view -->
                    <div class="tab-pane fade show active" id="evAttendance" role="tabpanel" aria-labelledby="staffBioTab">
                        <div class="card-profile">

                            <!-- Button for the Time In action -->
                            <div class="row">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h3 class="text-center flex-grow-1"><strong>Attendance Record</strong></h3>
                                    <div class="pe-5">
                                        <button id="timeinBtn" type="button" class="btn btn-success " data-bs-target="#">
                                            Time In
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Displays attendance status (On-Time, Late, Half-Day) with labels and visual cues. -->
                            <div class="row">
                                <div class="col-auto d-flex align-items-center">
                                    <label class="me-2">On - Time</label>
                                    <span class="status-indicator on-time"></span>
                                </div>
                                <div class="col-auto d-flex align-items-center">
                                    <label class="me-2">Late</label>
                                    <span class="status-indicator late"></span>
                                </div>
                                <div class="col-auto d-flex align-items-center">
                                    <label class="me-2">Half-Day</label>
                                    <span class="status-indicator half-day"></span>
                                </div>
                            </div>
                            
                            
                            <!-- Attendance Record Table -->
                            <div class="row">
                                <div>
                                    <table id="attendanceTable">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Status</th>
                                                <th>Time</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <!-- Attendance Record End -->
                    <!--================== EMPLOYEE BIO =========================-->
                    <!-- Employee Bio -->
                    <div class="tab-pane fade show " id="evStaffBioTab" role="tabpanel" aria-labelledby="staffBioTab">
                        <!--================== PERSONAL DATA ACCORDION ==================================-->                        
                        <div class="tab-pane fade show" id="personalDataTab" role="tabpanel" aria-labelledby="PersonalData-tab">
                            <ul class="nav nav-tabs" id="personalDataTab" role="tablist">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#personalDataAccordion" aria-controls="collapseTwo">
                                    Personal Data
                                </button>
                            </ul>
                            <div id="personalDataAccordion" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <!-- ei = Employee information -->
                                    <div class="tab-content" id="personalDataContent">
                                        
                                        <!-- PERSONAL DATA SECTION: Accordion contents -->

                                        <div class="row mb-2 ">
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Name: </strong><p id="eiName"></p></p>
                                            </div>
                                            <div class="col-md-3 d-flex align-content-end">
                                                <p><strong>Age: </strong><p id="eiAge"></p></p>
                                            </div>
                                            <div class="col-md-3 d-flex align-content-end">
                                                <p><strong>Job Title: </strong><p id="eiJob"></p></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-3 d-flex align-content-end">
                                                <p><strong>Address: </strong><p id="eiAddress"></p></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 d-flex align-content-end">
                                                <p><strong>Contact Number: </strong><p id="eiContactNumber"></p></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Place of Birth: </strong><p id="eiPlaceofBirth"></p></p>
                                            </div>
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Date of Birth: </strong><p id="eiDateofBirth"></p></p>
                                            </div>
                                            
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4 d-flex align-content-end">
                                                <p><strong>Gender: </strong><p id="eiGender"></p></p>
                                            </div>
                                            <div class="col-md-4 d-flex align-content-end">
                                                <p><strong>Height(cm): </strong><p id="eiHeight"></p></p>
                                            </div>
                                            <div class="col-md-4 d-flex align-content-end">
                                                <p><strong>Weight(kg): </strong><p id="eiWeight"></p></p>
                                            </div>
                                            
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4 d-flex align-content-end">
                                                <p><strong>Religion: </strong><p id="eiReligion"></p></p>
                                            </div>
                                            <div class="col-md-4 d-flex align-content-end">
                                                <p><strong>Citizenship: </strong><p id="eiCitizenship"></p></p>
                                            </div>
                                            <div class="col-md-4 d-flex align-content-end">
                                                <p><strong>Civil Status: </strong><p id="eiCivilStatus"></p></p>
                                            </div>
                                            
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 d-flex align-content-end">
                                                <p><strong>Spouse: </strong><p id="eiSpouse"></p></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 d-flex align-content-end">
                                                <p><strong>Children: </strong><p id="eiChildrenNames"></p></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Mother's Name: </strong><p id="eiMotherName"></p></p>
                                            </div>
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Occupation: </strong><p id="eiMotherOccupation"></p></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Father's Name: </strong><p id="eiFatherName"></p></p>
                                            </div>
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Occupation: </strong><p id="eiFatherOccupation"></p></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Parent's Address: </strong><p id="eiParentAddress"></p></p>
                                            </div>
                                            <div class="col-md-6 d-flex align-content-end">
                                                <p><strong>Contact Number: </strong><p id="eiParentContactNumber"></p></p>
                                            </div>
                                        </div>
                                        <div class="eiEmergencyDetail">
                                            <div class="row">
                                                <div class="col-md-7 d-flex align-content-end">
                                                    <p><strong>Emergency Contact Name: </strong><p class="eiEmergencyContactName"></p></p>
                                                </div>
                                                <div class="col-md-5 d-flex align-content-end">
                                                    <p><strong>Contact Number: </strong><p class="eiEmergencyContactNumber"></p></p>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-7 d-flex align-content-end">
                                                    <p><strong>Address: </strong><p class="eiEmergencyContactAddress"></p></p>
                                                </div>
                                                <div class="col-md-5 d-flex align-content-end">
                                                    <p><strong>Relationship: </strong><p class="eiEmergencyContactRelationship"></p></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--================== EDUCATIONAL BACKGROUND ACCORDION =========================-->
                        <div class="tab-pane fade show" id="educationalBackgroundTab" role="tabpanel" aria-labelledby="educationalBackground-Tab">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="educationalBackgroundHeader">
                                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#educationalBackgroundAccordion" aria-expanded="false" aria-controls="collapseTwo">
                                    Educational Background
                                  </button>
                                </h2>
                                <div id="educationalBackgroundAccordion" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                                  <div class="accordion-body">
                                    <!-- ei = Employee information -->
                                      <div class="row mb-3">
                                          <div class="col-md-6 d-flex">
                                              <p><strong>Elementary: </strong><p id="eiElementaryName"></p></p>
                                          </div>
                                          
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year Start: </strong><p id="eiElementaryYearStart"></p></p>
                                          </div>
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year End: </strong><p id="eiElementaryYearEnd"></p></p>
                                          </div>
                                      </div>
                                      <div class="row mb-3">
                                          <div class="col-md-12 d-flex align-content-end">
                                              <p><strong>Address: </strong><p id="eiElementaryAddress"></p></p>
                                          </div>
                                      </div>
                                      
                                      <div class="row mb-3">
                                          <div class="col-md-6 d-flex">
                                              <p><strong>Junior Highschool: </strong><p id="eiJHSName"></p></p>
                                          </div>
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year Start: </strong><p id="eiJHSYearStart"></p></p>
                                          </div>
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year End: </strong><p id="eiJHSYearEnd"></p></p>
                                          </div>
                                      </div>
                                      <div class="row mb-3">
                                          <div class="col-md-4 d-flex align-content-end">
                                              <p><strong>Address: </strong><p id="eiJHSAddress"></p></p>
                                          </div>
                                      </div>
                                      <div class="row mb-3">
                                          <div class="col-md-6 d-flex">
                                              <p><strong>Senior Highschool: </strong><p id="eiSeniorHighSchoolName">brime</p></p>
                                          </div>
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year Start: </strong><p id="eiSeniorHighSchoolYearStart"></p></p>
                                          </div>
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year End: </strong><p id="eiSeniorHighSchoolYearEnd"></p></p>
                                          </div>
                                      </div>
                                      <div class="row mb-3">
                                          <div class="col-md-12 d-flex align-content-end">
                                              <p><strong>Address: </strong><p id="eiSeniorHighSchoolAddress"></p></p>
                                          </div>
                                      </div>
                                      <div class="row mb-3">
                                          <div class="col-md-6 d-flex">
                                              <p><strong>College: </strong><p id="eiCollegeName">brime</p></p>
                                          </div>
                                          
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year Start: </strong><p id="eiCollegeYearStart"></p></p>
                                          </div>
                                          <div class="col-md-3 d-flex align-content-end">
                                              <p><strong>Year End: </strong><p id="eiCollegeYearEnd"></p></p>
                                          </div>
                                      </div>
                                      <div class="row mb-3">
                                          <div class="col-md-12 d-flex align-content-end">
                                              <p><strong>Address: </strong><p id="eiCollegeAddress">Imus</p></p>
                                          </div>
                                      </div>
                                      <div class="row mb-12">
                                          <div class="col-md-12 d-flex align-content-end">
                                              <p><strong>Course: </strong><p id="eiCourseName">brime</p></p>
                                          </div>
                                      </div>
                                  </div>
                                </div>
                              </div>
                        </div>
                        <!--================== EMPLOYMENT RECORD ACCORDION =========================-->
                        <div class="tab-pane fade show" id="employmentRecordTab" role="tabpanel" aria-labelledby="employmentRecord-Tab">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="employmentRecordHeader">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#employeeRecordAccordion" aria-expanded="false" aria-controls="collapseThree">
                                    Employment Record
                                </button>
                                </h2>
                                <div id="employeeRecordAccordion" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                                    <!-- eiv = Employee information View -->
                                    <div class="accordion-body">
                                        <div class="eiEmploymentRecord">
                                            <div class="row mb-3 ">
                                                <div class="col-md-5 d-flex align-content-end">
                                                    <p><strong>Company: </strong><p class="eivCompanyName"></p></p>
                                                </div>
                                                <div class="col-md-3 d-flex align-content-end">
                                                    <p><strong>Position: </strong><p class="eivPosition"></p></p>
                                                </div>
                                                <div class="col-md-4 d-flex align-content-end">
                                                    <p ><strong>Date: </strong>
                                                    <p class="eivFrom" style="margin-left: 8px;"></p>
                                                    <p style="margin: 0 8px 0 8px;">-</p>
                                                    <p class="eivTo"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--================== CHARACTER REFERENCE ACCORDION =========================-->
                        <div class="tab-pane fade show" id="characterReferenceTab" role="tabpanel" aria-labelledby="characterReference-Tab">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="characterReferenceHeader">
                                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#characterReferenceAccordion" aria-expanded="false" aria-controls="collapseThree">
                                    Character Reference
                                  </button>
                                </h2>
                                <div id="characterReferenceAccordion" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <!-- eicr = Employee information character reference -->
                                        <div class="eiCharacterReference">
                                            <div class="row mb-3">
                                                <div class="col-md-4 d-flex align-content-end">
                                                    <p><strong>Name: </strong><p class="eivcrCompanyName"></p></p>
                                                </div>
                                                <div class="col-md-4 d-flex align-content-end">
                                                    <p><strong>Occupation: </strong><p class="eivcrReferenceOccupation"></p></p>
                                                </div>
                                                <div class="col-md-4 d-flex align-content-end">
                                                    <p><strong>Contact: </strong><p class="eicrNumber"></p></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end">
                            <!-- eie = employee information edit -->
                            <button id="eieEdit" type="button" class="btn btn-success m-3 " data-bs-toggle="modal" data-bs-target="#eEditEmployee">
                                <i class="bi bi-file-earmark-plus"></i> Edit
                            </button>
                        </div>
                        
                    </div>
                    <!-- Employee Bio End -->
                    <!--================== ACCOUNT SETTINGS =========================-->
                    <!-- Account Settings -->
                     <!-- ev = Employee view --> 
                    <div class="tab-pane fade show " id="evAccountSettings" role="tabpanel" aria-labelledby="staffBioTab">
                        <div class="card">
                            <div class="card-body my-3">
                                <!-- Inside the #evAccountSettings tab in view.ejs -->
                                <div class="mb-3">
                                    <label class="form-label">Username</label>
                                    <input type="text" class="form-control" placeholder="Username" readonly>
                                    <!-- Removed static value, added id -->
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" placeholder="Enter your email" readonly>
                                </div>
                                <!-- Current Password -->
                                <div class="col-12 mb-3">
                                    <label class="form-label">Current Password</label>
                                    <input type="password" class="form-control" placeholder="Enter current password" readonly>
                                </div>
                                <!-- New Password with Toggle -->
                                <div class="mb-3">
                                    <label class="form-label">New Password</label>
                                    <input type="password"  class="form-control" placeholder="Enter new password" readonly>
                                </div>
                                <!-- Confirm New Password -->
                                <div class="mb-3">
                                    <label class="form-label">Confirm New Password</label>
                                    <input type="password" class="form-control" placeholder="Re-enter new password" readonly>
                                </div>
                                <div class="d-flex justify-content-end">
                                    <!-- eia = employee information account -->
                                    <button id="eiaEdit" type="button" class="btn btn-success m-3 " data-bs-toggle="modal" data-bs-target="#eiaEditModal">
                                        <i class="bi bi-file-earmark-plus"></i> Edit
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <!-- Account Settings End -->
                    

                </div>
            </div>
        </div>
    </section>
</main>

<%- include("../partials/toaster") %>
<!-- modal -->
<%- include("../partials/script") %>
<%- include("modal/edit") %>
<%- include("modal/account") %>
<script src="../../assets/js/employees/view.js"></script>
<script src="../../assets/js/employees/modal/edit.js"></script>
<script src="../../assets/js/employees/modal/editPopulate.js"></script>
<script src="../../assets/js/employees/modal/time.js"></script>
<%- include("../partials/footer") %>
